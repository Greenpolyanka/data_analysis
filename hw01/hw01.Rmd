---
title: "hw01"
author: "Kameneva Polina"
date: "2024-10-20"
output:
  word_document: default
  pdf_document: default
---

## Работа с данными

По адресу http://people.math.umass.edu/~anna/Stat597AFall2016/rnf6080.dat можно получить набор данных об осадках в Канаде с 1960 по 1980 годы. Необходимо загрузить эти данные при помощи read.table. Воспользуйтесь справкой, чтобы изучить аргументы, которые принимает функция.

1. Загрузите данные в датафрейм, который назовите data.df.

```{r}
url <- "http://people.math.umass.edu/~anna/Stat597AFall2016/rnf6080.dat"
data.df <- read.table(url, header = FALSE)
```

2. Сколько строк и столбцов в data.df? Если получилось не 5070 наблюдений 27 переменных, то проверяйте аргументы.

```{r}
dim(data.df)
```

3.Получите имена колонок из data.df

```{r}
colnames(data.df)
```

4.Найдите значение из 5 строки седьмого столбца.

```{r}
data.df[5, 7]
```
5.Напечатайте целиком 2 строку из data.df.

```{r}
data.df[2, ]
```

6.Объясните, что делает следующая строка кода names(data.df) <- c("year", "month", "day", seq(0,23)). Воспользуйтесь функциями head и tail, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки?

```{r}
names(data.df) <- c("year", "month", "day", seq(0,23))
head(data.df)
tail(data.df)
```
Cтрока кода names(data.df) <- c("year", "month", "day", seq(0,23)) переименовала названия столбцов таблицы. Первые три показывают дату, остальные 24 - осадки в Канаде с 1960 по 1980 года по часам.

7. Добавьте новую колонку с названием daily, в которую запишите сумму крайних правых 24 колонок. Постройте гистограмму по этой колонке. Какие выводы можно сделать?

```{r}
data.df$dialy <- rowSums(data.df[, 4:27])
```

```{r}
hist(data.df$dialy, main = "Гистограмма осадков в Канаде", xlab = "Осадки")
```

Гистограмма отображается нелогично, так как в таблице есть отрицательные осадки.

8. Создайте новый датафрейм fixed.df в котором исправьте замеченную ошибку. Постройте новую гистограмму, поясните почему она более корректна.

```{r}
fixed.df <- data.df
fixed.df$dialy[fixed.df$dialy < 0] <- 0
hist(fixed.df$dialy, main = "Новая гистограмма", xlab = "Осадки")
```
Данная гистограмма наиболее корректна, так как в ней отсутствуют отрицательные значения осадков, которые были заменены на 0. По гистограмме можно сделать вывод, что бОльшую часть времени (более 4000 дней) в Канаде не было осадков.

## Синтаксис и типизирование

1. Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна.

```{r}
v <- c("4", "8", "15", "16", "23", "42")
max(v)
sort(v)
```

В первой строке заводится массив данных, состоящий из строковых значений.
max(v) вернул "8", так как это не число, а строка, в остальных значениях первым символом выступает 1, 2 или 4, что меньше 8.
sort(v) вернул отсортированный список строк.
sum(v) выдал ошибку, так как строки нельзя сложить.

2. Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.

```{r}
v2 <- c("5",7,12)

df3 <- data.frame(z1="5",z2=7,z3=12)
df3[1,2] + df3[1,3]

l4 <- list(z1="6", z2=42, z3="49", z4=126)
l4[[2]] + l4[[4]]
```
v2[2] + v2[3] - одного элемента не существует.
df3[1,2] + df3[1,3] сложил два элемента первой строки 
l4[2] + l4[4] - происходит сложение списков, а не чисел

## Работа с функциями и операторами

1. Оператор двоеточие создаёт последовательность целых чисел по порядку. Этот оператор — частный случай функции seq(), которую вы использовали раньше. Изучите эту функцию, вызвав команду ?seq. Испольуя полученные знания выведите на экран:
Числа от 1 до 10000 с инкрементом 372.
Числа от 1 до 10000 длиной 50.

```{r}
seq(1, 10000, by = 372)
seq(1, 10000, length.out = 50)
```
2. Функция rep() повторяет переданный вектор указанное число раз. Объясните разницу между rep(1:5,times=3) и rep(1:5, each=3).


```{r}
rep(1:5,times=3)
rep(1:5, each=3)
```
Первый вариант выводит вектор целиком, повторяя его трижды.
Второй вариант выводит весь вектор, повторяя каждый из его элементов по три раза.